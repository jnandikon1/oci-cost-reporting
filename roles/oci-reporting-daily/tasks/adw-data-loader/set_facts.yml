---
# Centralize all facts and variables for ADW data loader stage

- name: Set ADW load status - initialized
  set_fact:
    adw_load_status: "IN_PROGRESS"
    adw_load_start_timestamp: "{{ ansible_date_time.iso8601 }}"
  tags:
    - load-database

- name: Set initial ADW connection parameters
  set_fact:
    database_loader_script: ""
    adw_password_source: "undefined"
    adb_row_count: 0
    non_adb_row_count: 0
  tags:
    - load-database

- name: Display ADW load initialization
  debug:
    msg: |
      âœ“ ADW Data Loader Initialized:
        Status: {{ adw_load_status }}
        Start Time: {{ adw_load_start_timestamp }}
        Connection String: {{ adw_connection_string }}
        Wallet Path: {{ adw_wallet_path }}
        Data Directory: {{ data_dir }}
  tags:
    - load-database
