---
# Hourly reporting pipeline
# Placeholder tasks to collect all database types and store into the dedicated hourly table.

- name: Set reporting context
  set_fact:
    reporting_interval: hourly
    reporting_table: "{{ oci_reporting_hourly_table }}"

- name: TODO Collect usage/inventory across all database types (hourly)
  debug:
    msg: >-
      Collect OCPU/usage/inventory data for all database types (ADB, non-ADB, GG, OEM, OID, OKV, etc.),
      scoped for hourly cadence. Feed results to staging for {{ reporting_table }}.

- name: TODO Persist hourly dataset to ADW
  debug:
    msg: >-
      Load transformed hourly dataset into table {{ reporting_table }} using shared ADW connection
      (see vars/common.yml). Align with Oracle sample: usage-reports-to-adw scheduling guidance.

- name: TODO Generate and distribute hourly report
  debug:
    msg: >-
      Generate hourly report artifacts (CSV/Excel) and distribute via configured channel if required.
